import <%= _nameInPascal %> from "../models/<%= _name%>Model"
import "dotenv/config"


export class <%= _nameInPascal %>Service {
    constructor(){
    }

    create<%= _nameInPascal %> = async (data) => {
        try {
            let <%= _name%> = await <%= _nameInPascal %>.create(data)
            return <%= _name%>;
        } catch (error) {
            throw error;
        }
    }

    update<%= _nameInPascal %> = async (data) => {
        try {
            await <%= _nameInPascal %>.update(data, {
                where: {
                    id: data.id
                }
            })
            let <%= _name%> = await this.get<%= _nameInPascal %>(data.id)
            return <%= _name%>;
        } catch (error) {
            throw error;
        }
    }

    getAll<%= _nameInPascal %>s = async () => {
        try {
            return await <%= _nameInPascal %>.findAll({})
        } catch (error) {
            throw error;
        }
    }

    get<%= _nameInPascal %> = async (<%= _name%>Id) => {
        try {
            let <%= _name%> = await <%= _nameInPascal %>.findOne({
                where: {
                    id: <%= _name%>Id
                }
            })
            if(<%= _name%>) {
                return <%= _name%>
            }
            throw "<%= _nameInPascal %> not found!";
        } catch (error) {
            throw error;
        }
    }

    delete<%= _nameInPascal %> = async (<%= _name%>Id) => {
        try {
            return await <%= _nameInPascal %>.destroy({
                where: {
                    id: <%= _name%>Id
                }
            });
        } catch (error) {
            throw error;
        }
    }

}